var e=Object.defineProperty,l=(l,t,r)=>(((l,t,r)=>{t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[t]=r})(l,"symbol"!=typeof t?t+"":t,r),r);import{P as t}from"./PageBase-6a283273.js";import{U as r}from"./Upload-4fe5a793.js";import{u as a,i,f as o,A as s,ag as m}from"./index-f1aaa364.js";const d=new class extends t{constructor(){super(...arguments),l(this,"formRef",null),l(this,"pageType","order"),l(this,"actType","add"),l(this,"id",""),l(this,"ruleForm",{name:"name",type:"",saleName:"大师傅大师傅",saleNo:"dsfsdfsfsd",money:"12",downPay:"213",partyA:"23",partyB:"23",signDate:"2023-05-18",startDate:"2023-05-19",endDate:"2023-05-28",other:"山东鲁能弗兰克那个是快乐",pdfList:[],collectionAmount:"123",deliverDate:"2023-05-28"})}created(){const e=a();this.pageType=e.params.pageType||"order",this.actType=e.params.type||"add",this.id=e.params.id||""}get formRules(){return this.editable?{name:{required:!0,message:"请选择",trigger:"blur"},type:{required:!0,message:"请选择",trigger:"blur"},saleName:{required:!0,message:"请选择",trigger:"blur"},money:{required:!0,message:"请选择",trigger:"blur"},downPay:{required:!0,message:"请选择",trigger:"blur"},partyA:{required:!0,message:"请选择",trigger:"blur"},partyB:{required:!0,message:"请选择",trigger:"blur"},signDate:{required:!0,message:"请选择",trigger:"blur"},startDate:{required:!0,message:"请选择",trigger:"blur"},endDate:{required:!0,message:"请选择",trigger:"blur"}}:"material"==this.pageType?{collectionAmount:{required:!0,message:"请选择",trigger:"blur"},deliverDate:{required:!0,message:"请选择",trigger:"blur"}}:void 0}get isOrder(){return"order"==this.pageType}get isLook(){return"look"==this.actType}get editable(){return"contract"!=this.pageType&&!this.isLook}get title(){return this.isOrder?"合同信息":"销售订单信息"}render(){return i("div",{class:"app-container editWrap"},[i("div",{class:"zh-form-page"},[i("div",{class:"zh-page-head"},[i("div",{class:"zh-page-head_left"},[i("span",null,[this.title])]),i("div",{class:"zh-page-head_right"},["look"!=this.actType&&i(o("el-button"),{type:"primary",onClick:()=>this.save()},{default:()=>[s("保存")]}),i(o("el-button"),{onClick:()=>this.cancel()},{default:()=>[s("返回")]})])]),i("h2",null,[this.title]),i(o("el-form"),{ref:"formRef",model:this.ruleForm,rules:this.formRules,size:"default","label-width":"140px",class:"zh-page_formwrap_base zh-page_formwrap_5"},{default:()=>[i(o("el-form-item"),{label:"合同名称",prop:"name",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{modelValue:this.ruleForm.name,"onUpdate:modelValue":e=>this.ruleForm.name=e,placeholder:"请输入"},null):this.ruleForm.name]}),i(o("el-form-item"),{label:"合同类型",prop:"type",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{modelValue:this.ruleForm.type,"onUpdate:modelValue":e=>this.ruleForm.type=e,placeholder:"请输入"},null):this.ruleForm.type]}),i(o("el-form-item"),{label:"销售订单名称",prop:"saleName",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{modelValue:this.ruleForm.saleName,"onUpdate:modelValue":e=>this.ruleForm.saleName=e,placeholder:"请输入"},null):this.ruleForm.saleName]}),i(o("el-form-item"),{label:"销售订单编号",prop:"saleNo",class:"zh-page-form_formitem_5"},{default:()=>[this.ruleForm.saleNo]}),i(o("el-form-item"),{label:"合同金额（元）",prop:"money",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{type:"number",modelValue:this.ruleForm.money,"onUpdate:modelValue":e=>this.ruleForm.money=e,placeholder:"请输入"},null):this.ruleForm.money]}),i(o("el-form-item"),{label:"合同首付款（元）",prop:"downPay",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{type:"number",modelValue:this.ruleForm.downPay,"onUpdate:modelValue":e=>this.ruleForm.downPay=e,placeholder:"请输入"},null):this.ruleForm.downPay]}),i(o("el-form-item"),{label:"甲方",prop:"partyA",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{modelValue:this.ruleForm.partyA,"onUpdate:modelValue":e=>this.ruleForm.partyA=e,placeholder:"请输入"},null):this.ruleForm.partyA]}),i(o("el-form-item"),{label:"乙方",prop:"partyB",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{modelValue:this.ruleForm.partyB,"onUpdate:modelValue":e=>this.ruleForm.partyB=e,placeholder:"请输入"},null):this.ruleForm.partyB]}),this.orderNode(),this.otherNode(),this.pdfNode()]})])])}orderNode(){if(this.isOrder)return[i(o("el-form-item"),{label:"合同签订日期",prop:"signDate",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-date-picker"),{modelValue:this.ruleForm.signDate,"onUpdate:modelValue":e=>this.ruleForm.signDate=e,type:"date",placeholder:"Pick a date",style:"width: 100%"},null):this.ruleForm.signDate]}),i(o("el-form-item"),{label:"合同生效日期",prop:"signDate",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-date-picker"),{modelValue:this.ruleForm.signDate,"onUpdate:modelValue":e=>this.ruleForm.signDate=e,type:"date",placeholder:"Pick a date",style:"width: 100%"},null):this.ruleForm.signDate]}),i(o("el-form-item"),{label:"合同结束日期",prop:"endDate",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-date-picker"),{modelValue:this.ruleForm.endDate,"onUpdate:modelValue":e=>this.ruleForm.endDate=e,type:"date",placeholder:"Pick a date",style:"width: 100%"},null):this.ruleForm.endDate]})]}pdfNode(){if("contract"!=this.pageType)return i("div",{class:"pdfList"},[this.ruleForm.pdfList.map((e=>i("div",{class:"pdfItem"},[i(r,{modelValue:e.imagePath,"onUpdate:modelValue":l=>e.imagePath=l,disabled:"look"==this.actType},null),i("div",{class:"pdfName"},[e.name])]))),i("div",{class:"pdfItem"},[i(r,{disabled:"look"==this.actType},null),i("div",{class:"pdfName"},["order"==this.pageType?"上传合同文件":"上传验收材料"])])])}otherNode(){return this.isOrder?i("div",{style:{width:"100%"}},[i("h2",null,[s("其他信息")]),this.editable?i(o("el-input"),{type:"textarea",resize:"none",modelValue:this.ruleForm.other,"onUpdate:modelValue":e=>this.ruleForm.other=e,placeholder:"请输入"},null):this.ruleForm.other]):"contract"==this.pageType?i("div",null,[s("合同列表")]):"material"==this.pageType?[i(o("el-form-item"),{label:"回款金额（元）",prop:"collectionAmount",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-input"),{type:"number",modelValue:this.ruleForm.collectionAmount,"onUpdate:modelValue":e=>this.ruleForm.collectionAmount=e,placeholder:"请输入"},null):this.ruleForm.collectionAmount]}),i(o("el-form-item"),{label:"交付日期",prop:"deliverDate",class:"zh-page-form_formitem_5"},{default:()=>[this.editable?i(o("el-date-picker"),{modelValue:this.ruleForm.deliverDate,"onUpdate:modelValue":e=>this.ruleForm.deliverDate=e,type:"date",placeholder:"Pick a date",style:"width: 100%"},null):this.ruleForm.deliverDate]})]:void 0}cancel(){m.push({name:"Maintenance"})}save(){this.formRef.validate((async e=>{}))}};export{d as default};
