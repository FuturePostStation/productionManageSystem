var e=Object.defineProperty,t=(t,l,r)=>(((t,l,r)=>{l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r})(t,"symbol"!=typeof l?l+"":l,r),r);import{P as l}from"./prodOrderMaintenanceApi-dab7fd9b.js";import{M as r}from"./MyTable-7d66d367.js";import{P as a}from"./PageBase-d1889d10.js";import{u as i,i as o,A as s,f as d,ag as n}from"./index-4a918107.js";import"./CommonApi-c58d4529.js";const m=new class extends a{constructor(){super(...arguments),t(this,"api",new l),t(this,"actType","add"),t(this,"id",""),t(this,"ruleForm",{}),t(this,"orderList",[]),t(this,"prodList",[])}get formRules(){return{contractName:{required:!0,message:"请选择",trigger:"blur"}}}created(){const e=i();this.actType=e.params.type||"add",this.id=e.params.id||"",this.id&&this.init()}async init(){try{this.ruleForm=await this.api.details(this.id)}catch(e){}}get isLook(){return"look"==this.actType}render(){return o("div",{class:"app-container editWrap"},[o("div",{class:"zh-form-page"},[o("div",{class:"zh-page-head"},[o("div",{class:"zh-page-head_left"},[o("span",null,[s("订单信息")])]),o("div",{class:"zh-page-head_right"},["look"!=this.actType&&o(d("el-button"),{type:"primary",onClick:()=>this.save()},{default:()=>[s("保存")]}),o(d("el-button"),{onClick:()=>this.cancel()},{default:()=>[s("返回")]})])]),o(d("el-form"),{ref:"formRef",model:this.ruleForm,rules:this.formRules,size:"default","label-width":"100px",disabled:this.isLook},{default:()=>[this.orderTable(),o("div",{style:{display:"flex",marginTop:"15px"}},[o(d("el-form-item"),{label:"生产订单名称",style:{marginRight:"30px"}},{default:()=>[o(d("el-input"),{modelValue:this.ruleForm.productName,"onUpdate:modelValue":e=>this.ruleForm.productName=e},null)]}),o(d("el-form-item"),{label:"生产订单编号"},{default:()=>[this.ruleForm.produceOrderNumber]})]),this.prodTable(),o("div",{style:{display:"flex",marginTop:"15px"}},[o(d("el-form-item"),{label:"交付方式",style:{marginRight:"30px"}},{default:()=>[o(d("el-input"),{modelValue:this.ruleForm.deliveryMode,"onUpdate:modelValue":e=>this.ruleForm.deliveryMode=e},null)]}),o(d("el-form-item"),{label:"生产完成日期"},{default:()=>[o(d("el-date-picker"),{modelValue:this.ruleForm.produceCompletionTime,"onUpdate:modelValue":e=>this.ruleForm.produceCompletionTime=e,type:"date"},null)]})]),this.otherNode()]})])])}get orderCols(){return{name:{label:"销售订单名称"},partA:{label:"甲方单位名称"},amount:{label:"合同金额（元）"},signDate:{label:"合同签订日期"}}}orderTable(){return o(r,{tableType:"",tableData:this.orderList,columns:this.orderCols},null)}get prodCols(){return{name:{label:"产品名称"},number:{label:"产品数量"},isStandard:{label:"是否标准产品"},file:{label:"生产技术文件"}}}prodTable(){return o(r,{tableType:"",tableData:this.prodList,columns:this.prodCols},null)}otherNode(){return o("div",{style:{width:"100%"}},[o("h2",null,[s("其他信息")]),o(d("el-input"),{type:"textarea",resize:"none",modelValue:this.ruleForm.otherInformation,"onUpdate:modelValue":e=>this.ruleForm.otherInformation=e,placeholder:"请输入"},null)])}cancel(){n.push({name:"ProdOrderMaintenance"})}save(){}};export{m as default};
