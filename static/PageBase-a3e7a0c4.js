var t=Object.defineProperty,e=(e,s,r)=>(((e,s,r)=>{s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r})(e,"symbol"!=typeof s?s+"":s,r),r);import{an as s,V as r}from"./index-ab1010d4.js";class o{constructor(t,s=!0){e(this,"urlPrefix"),e(this,"isInfo",!0),this.urlPrefix=t,this.isInfo=s}add(t){return s({url:`${this.urlPrefix}`,method:"post",data:t})}edit(t){return s({url:`${this.urlPrefix}`,method:"put",data:t})}delete(t){return s({url:`${this.urlPrefix}/${t}`,method:"delete"})}async details(t){try{return(await s({url:`${this.urlPrefix}${this.isInfo?"Info":""}/${t}`,method:"get"})).data}catch(e){throw e}}page(t){return s({url:`${this.urlPrefix}/page`,method:"post",data:t})}}let i={};const n=["self","emits","expose","slots","methods","props","computed"],u=["constructor","setup","render","created","mounted"];class c{constructor(){e(this,"emits",[]),e(this,"expose",[]),e(this,"methods",{}),e(this,"computed",{}),e(this,"components",{}),e(this,"props",{});const t=Object.getPrototypeOf(this),s=Reflect.ownKeys(t);for(let e=0;e<s.length;e++){const r=s[e];if(u.includes(r))continue;const o=Object.getOwnPropertyDescriptor(t,r);o.get?this.computed[r]=o.get:this.methods[r]=this[r]}}get data(){i={};for(const t in this){if(n.includes(t))continue;const e=this[t];i[t]=e}return()=>i}setup(){const t=r();(null==t?void 0:t.refs)&&setTimeout((()=>{for(const e in t.refs)t.data[e]=t.refs[e]}),0)}}export{o as C,c as P};
