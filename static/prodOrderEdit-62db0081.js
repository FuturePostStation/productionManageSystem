var e=Object.defineProperty,t=(t,l,r)=>(((t,l,r)=>{l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r})(t,"symbol"!=typeof l?l+"":l,r),r);import{C as l}from"./CommonHander-85829c56.js";import{P as r}from"./prodOrderMaintenanceApi-5af0aafc.js";import{M as a}from"./MyTable-9b9835b0.js";import{P as i}from"./PageBase-a3e7a0c4.js";import{u as o,i as s,A as d,f as n,ag as m}from"./index-ab1010d4.js";import"./Loading-c7a91146.js";const u=new class extends i{constructor(){super(...arguments),t(this,"api",new r),t(this,"handler",new l(this.api)),t(this,"actType","add"),t(this,"id",""),t(this,"ruleForm",{}),t(this,"orderList",[]),t(this,"prodList",[])}get formRules(){return{contractName:{required:!0,message:"请选择",trigger:"blur"}}}created(){const e=o();this.actType=e.params.type||"add",this.id=e.params.id||"",this.id&&this.init()}async init(){try{this.ruleForm=await this.api.details(this.id)}catch(e){}}get isLook(){return"look"==this.actType}render(){return s("div",{class:"app-container editWrap"},[s("div",{class:"zh-form-page"},[s("div",{class:"zh-page-head"},[s("div",{class:"zh-page-head_left"},[s("span",null,[d("订单信息")])]),s("div",{class:"zh-page-head_right"},["look"!=this.actType&&s(n("el-button"),{type:"primary",onClick:()=>this.save()},{default:()=>[d("保存")]}),s(n("el-button"),{onClick:()=>this.cancel()},{default:()=>[d("返回")]})])]),s(n("el-form"),{ref:"formRef",model:this.ruleForm,rules:this.formRules,size:"default","label-width":"100px",disabled:this.isLook},{default:()=>[this.orderTable(),s("div",{style:{display:"flex",marginTop:"15px"}},[s(n("el-form-item"),{label:"生产订单名称",style:{marginRight:"30px"}},{default:()=>[s(n("el-input"),{modelValue:this.ruleForm.productName,"onUpdate:modelValue":e=>this.ruleForm.productName=e},null)]}),s(n("el-form-item"),{label:"生产订单编号"},{default:()=>[this.ruleForm.produceOrderNumber]})]),this.prodTable(),s("div",{style:{display:"flex",marginTop:"15px"}},[s(n("el-form-item"),{label:"交付方式",style:{marginRight:"30px"}},{default:()=>[s(n("el-input"),{modelValue:this.ruleForm.deliveryMode,"onUpdate:modelValue":e=>this.ruleForm.deliveryMode=e},null)]}),s(n("el-form-item"),{label:"生产完成日期"},{default:()=>[s(n("el-date-picker"),{modelValue:this.ruleForm.produceCompletionTime,"onUpdate:modelValue":e=>this.ruleForm.produceCompletionTime=e,type:"date"},null)]})]),this.otherNode()]})])])}get orderCols(){return{name:{label:"销售订单名称"},partA:{label:"甲方单位名称"},amount:{label:"合同金额（元）"},signDate:{label:"合同签订日期"}}}orderTable(){return s(a,{tableType:"",tableData:this.orderList,columns:this.orderCols},null)}get prodCols(){return{name:{label:"产品名称"},number:{label:"产品数量"},isStandard:{label:"是否标准产品"},file:{label:"生产技术文件"}}}prodTable(){return s(a,{tableType:"",tableData:this.prodList,columns:this.prodCols},null)}otherNode(){return s("div",{style:{width:"100%"}},[s("h2",null,[d("其他信息")]),s(n("el-input"),{type:"textarea",resize:"none",modelValue:this.ruleForm.otherInformation,"onUpdate:modelValue":e=>this.ruleForm.otherInformation=e,placeholder:"请输入"},null)])}cancel(){m.push({name:"ProdOrderMaintenance"})}save(){this.handler.addOrEdit(this.ruleForm,"produceOrderId")}};export{u as default};
